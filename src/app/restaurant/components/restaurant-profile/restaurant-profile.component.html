<div *ngIf="restaurant">
  <!-- üü© PORTADA DEL RESTAURANTE (solo imagen + overlay visual) -->
  <div class="restaurant-header">
    <img class="main-img" [src]="restaurant.mainImage" alt="Imagen principal" />
  </div>

  <!-- Contenido -->
  <div class="content-wrapper">
    <!-- Info principal -->
    <mat-card class="info-card">
      <!-- üî• Header como antes: logo + t√≠tulo + direcci√≥n + bot√≥n editar -->
      <div class="info-card-header">
        <img
          class="logo"
          [src]="restaurant.imageLogo"
          alt="Logo del restaurante"
        />

        <div class="header-text">
          <h1>{{ restaurant.name }}</h1>
          <p>{{ restaurant.address }} {{ restaurant.addressNumber }}</p>
          <p>{{ restaurant.phone }}</p>
        </div>

        <button
          mat-icon-button
          color="primary"
          class="edit-btn"
          (click)="editRestaurant()"
        >
          <mat-icon>edit</mat-icon>
        </button>
      </div>

      <mat-card-content>
        <div class="info-item">
          <strong>Descripci√≥n:</strong>
          <span>{{ restaurant.description || "Sin descripci√≥n" }}</span>
        </div>

        <div class="info-item">
          <strong>Estado:</strong>
          <span [ngClass]="restaurant.enabled ? 'enabled' : 'disabled'">
            {{ restaurant.enabled ? "Activo" : "Inactivo" }}
          </span>
        </div>

        <div class="info-item">
          <strong>Horario:</strong>
          <span>{{ restaurant.openingHours || "No especificado" }}</span>
        </div>

        <div class="info-item">
          <strong>Rating:</strong>
          <span>‚≠ê {{ restaurant.rating || "Sin calificar" }}</span>
        </div>

        <div class="info-item">
          <strong>Creado:</strong>
          <span>{{ restaurant.createdAt | date }}</span>
        </div>
      </mat-card-content>
    </mat-card>

    <app-staff-management [restaurantId]="restaurant.restaurantId">
    </app-staff-management>

    <!-- Lista de productos -->
    <app-product-list
      [products]="dataSource.data"
      [restaurantId]="restaurant.restaurantId"
      (create)="createProduct()"
      (edit)="editProduct($event)"
    ></app-product-list>

    <!-- Stats -->
    <mat-card class="stats-card">
      <mat-card-title>Estad√≠sticas</mat-card-title>
      <div class="stats-grid">
        <div class="stat-box">
          <h2>‚≠ê {{ restaurant.rating || 0 }}</h2>
          <p>Rating promedio</p>
        </div>
        <div class="stat-box">
          <h2>{{ totalMenuItems }}</h2>
          <p>Platos cargados</p>

          <div class="actions">
            <button mat-raised-button color="accent" (click)="goToMenu()">
              Administrar Men√∫
            </button>
          </div>
        </div>
        <div class="stat-box">
          <h2>{{ totalComments }}</h2>
          <p>Comentarios</p>
        </div>
        <div class="stat-box">
          <h2>{{ monthlyViews }}</h2>
          <p>Vistas del mes</p>
        </div>
      </div>
    </mat-card>
  </div>
</div>
