<div *ngIf="restaurant">
  <div class="restaurant-header">
    <img class="main-img" [src]="restaurant.mainImage" alt="Main Image" />
  </div>
  <div class="actions">
    <button mat-raised-button color="accent" (click)="goToMenu()">
      Administrar Menú
    </button>

  </div>

  <div class="content-wrapper">
<mat-card class="info-card">
  <!-- HEADER -->
  <div class="info-card-header">
    <img class="logo" [src]="restaurant.imageLogo" alt="Logo del restaurante" />

    <div class="header-text">
      <h1>{{ restaurant.name }}</h1>
      <p>{{ restaurant.address }} {{ restaurant.addressNumber }}</p>
      <p>{{ restaurant.phone }}</p>
    </div>

    <button mat-icon-button color="primary" class="edit-btn" (click)="editRestaurant()">
      <mat-icon>edit</mat-icon>
    </button>
  </div>

  <!-- CARD CONTENT -->
  <mat-card-content>
    <div class="info-item">
      <strong>Descripción:</strong>
      <span>{{ restaurant.description || "Sin descripción" }}</span>
    </div>

    <div class="info-item">
      <strong>Estado:</strong>
      <span [ngClass]="restaurant.enabled ? 'enabled' : 'disabled'">
        {{ restaurant.enabled ? "Activo" : "Inactivo" }}
      </span>
    </div>

    <div class="info-item">
      <strong>Horario:</strong>
      <span>{{ restaurant.openingHours || "No especificado" }}</span>
    </div>

    <div class="info-item">
      <strong>Rating:</strong>
      <span>⭐ {{ restaurant.rating || "Sin calificar" }}</span>
    </div>

    <div class="info-item">
      <strong>Creado:</strong>
      <span>{{ restaurant.createdAt | date }}</span>
    </div>

    <div class="info-item">
      <strong>Última actualización:</strong>
      <span>{{ restaurant.updatedAt | date }}</span>
    </div>
  </mat-card-content>
</mat-card>

    <app-product-list
      [products]="dataSource.data"
      [restaurantId]="restaurant.restaurantId"
      (productCreated)="createProductDialog()"
    ></app-product-list>

    <mat-card class="stats-card">
      <mat-card-title>Estadísticas</mat-card-title>
      <div class="stats-grid">
        <div class="stat-box">
          <h2>⭐ {{ restaurant.rating || 0 }}</h2>
          <p>Rating promedio</p>
        </div>
        <div class="stat-box">
          <h2>{{ totalMenuItems }}</h2>
          <p>Platos cargados</p>
        </div>
        <div class="stat-box">
          <h2>{{ totalComments }}</h2>
          <p>Comentarios</p>
        </div>
        <div class="stat-box">
          <h2>{{ monthlyViews }}</h2>
          <p>Vistas del mes</p>
        </div>
      </div>
    </mat-card>
  </div>
</div>
